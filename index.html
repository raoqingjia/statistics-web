<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>疫情专项数据统计分析</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta content="black" name="apple-mobile-web-app-status-bar-style"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="stylesheet" type="text/css" href="css/base.css"/>
    <link rel="stylesheet" type="text/css" href="css/earthEchars.css"/>
    <style>

        .banner {
            width: 100%;
            height: 15rem;
            background-image: url("img/banner.jpg");
            background-repeat: no-repeat;
            background-size: cover;
        }

        .title-wrap h1 {
            font-size: 16px;
            line-height: 40px;
            padding: 10px 0 0 0;
            font-weight: normal;
            text-align: center;
        }

        .title-wrap p {
            line-height: 34px;
            font-size: 14px;
            font-weight: normal;
            text-align: center;
        }

        .title-content {
            width: 100%;
            box-sizing: border-box;
            padding: 0 1.5rem 0;
        }

        .title-content dl {
            float: left;
            width: 50%;
            padding: 0 0 0 1.5rem;
            box-sizing: border-box;
        }

        .title-content dt {
            font-size: 14px;
            line-height: 34px;
        }

        .title-content dd {
            font-size: 12px;
            line-height: 30px;
        }

        .title-content dd span {
            float: right;
            color: #1660f6;
        }

        .title-content .phone {
            margin: 0.5rem 0;
            font-size: 14px;
        }
         i.reset{
             display: block;
             float: right;
             width: 20px;
             height: 20px;
             background-image: url("img/reset.jpg");
             background-repeat: no-repeat;
             background-size: cover;
             position: absolute;
             right: 1.3rem;
             top: 0.2rem;
             z-index: 99999;
         }

        .bottom-text{
            margin: -2rem 0 2rem 0;
            padding:0 1.5rem;
            position: relative;
            z-index: 1;
        }
        .bottom-text h2{
            font-weight: normal;
            font-size: 14px;
            line-height: 40px;
            padding: 5px 0 ;
        }
        .bottom-text p{
            font-size: 14px;
            line-height: 26px;
        }
        i.scroll-top{
            display: block;
            width: 20px;
            height: 20px;
            background-image: url("img/toTop.png");
            background-repeat: no-repeat;
            background-size: cover;
            position: absolute;
            right: 1.3rem;
            top: 1.2rem;
            z-index: 99999;
        }
        table{
            border: 1px solid #949393;
            width: 100%;
            margin: 0 0 1.5rem 0;
            border-collapse: collapse;
        }
        table caption{
            border: 1px solid #949393;
            border-bottom: none;
            line-height: 30px;
        }
        table th,table td{
            width: 50%;
            font-weight: normal;
            font-size: 14px;
            border: 1px solid #949393;
            text-align: center;
        }
    </style>
</head>
<body>
<div class="banner"></div>
<div class="title-wrap clearflx">
    <h1>疫情防控政企重点业务专项数据统计分析</h1>
    <p>1月30日0时至1月30日24时数据一览</p>
    <div class="title-content clearflx">
        <div class="clearflx">
            <dl>
                <dt>云视讯数据统计</dt>
                <dd>新增订购数<span>446个</span></dd>
                <dd>新增成员数<span>28662个</span></dd>
                <dd>支撑医院数<span>42个</span></dd>
                <dd>支撑政府部门数<span>396个</span></dd>
                <dd>使用时长累计<span>349.8万分钟</span></dd>
                <dd class="scroll-bottom">日订单成功率<span>59.78%</span></dd>
                <dd>除正常校验报错外的订单成功率<span>93.98%</span></dd>
            </dl>
            <dl>
                <dt>视频彩铃统计</dt>
                <dd>新增订购数<span>570个</span></dd>
                <dd>新增成员数<span>193163个</span></dd>
                <dd>支撑医院数<span>32个</span></dd>
                <dd>支撑政府部门数<span>534个</span></dd>
                <dd>彩铃宣传累计<span>31.1万次</span></dd>
                <dd  class="scroll-bottom">日订单成功率<span>66.48%</span></dd>
                <dd>除正常校验报错外的订单成功率<span>94.20%</span></dd>
            </dl>
        </div>
        <p class="phone">集客大厅值班电话<span style="display: block">158 1051 1759 、182 0165 0691</span></p>
    </div>
</div>
<div style="position: relative;z-index: 1">
    <i class="reset" id="yunShiXunReset"></i>
    <div id="yunShiXunChina" style="width: 100%;height: 30rem;"></div>
</div>
<div style="margin: -3rem 0 0 0;">
  <div id="yunShiXunBarAndLine" style="width: 100%;height:30rem;"></div>
</div>
<div style="position: relative;z-index: 1">
    <i class="reset" id="caiLingReset"></i>
    <div id="caiLingChina" style="width: 100%;height: 30rem;"></div>
</div>
<div style="margin: -2rem 0 0 0;">
    <div id="caiLingBarAndLine" style="width: 100%;height:30rem;"></div>
</div>
<div class="bottom-text">
    <i class="scroll-top"></i>
    <h2 style="display: none">校验报错排名前三的省份</h2>
    <table style="display: none">
        <caption>云视讯业务</caption>
        <thead>
           <tr>
               <th>省份</th>
               <th>数量(个)</th>
           </tr>
        </thead>
        <tbody>
          <tr>
              <td>河南</td>
              <td>295</td>
          </tr>
          <tr>
              <td>福建</td>
              <td>93</td>
          </tr>
          <tr>
              <td>河北</td>
              <td>16</td>
          </tr>
        </tbody>
    </table>
    <table style="display: none">
        <caption>视频彩铃业务</caption>
        <thead>
        <tr>
            <th>省份</th>
            <th>数量(个)</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>贵州</td>
            <td>40777个</td>
        </tr>
        <tr>
            <td>江西</td>
            <td>28636个</td>
        </tr>
        <tr>
            <td>山东</td>
            <td>9709个</td>
        </tr>
        </tbody>
    </table>
    <h2>云视讯业务校验报错排名前三的省份</h2>
    <p>河南、福建、河北</p>
    <h2>视频彩铃业务校验报错排名前三的省份</h2>
    <p>贵州、江西、山东</p>
</div>
<div id="bar" style="width: 100%;height: 350px;display: none;"></div>
</body>
<script src="js/lib/jquery-3.2.1.min.js"></script>
<script src="js/lib/echarts.min.js"></script>
<script src="js/lib/china.js"></script>
<script src="js/lib/vintage.js"></script>
<script>

    var yunShiXunMapData = [
        {name: '北京', value: 1}, {name: '天津', value: 0},
        {name: '上海', value: 0}, {name: '重庆', value: 0},
        {name: '河北', value: 501}, {name: '河南', value: 16140},
        {name: '云南', value: 0}, {name: '辽宁', value: 0},
        {name: '黑龙江', value: 0}, {name: '湖南', value: 0},
        {name: '安徽', value: 0}, {name: '山东', value: 922},
        {name: '新疆', value: 82}, {name: '江苏', value: 779},
        {name: '浙江', value: 0}, {name: '江西', value: 0},
        {name: '湖北', value: 0}, {name: '广西', value: 0},
        {name: '甘肃', value: 1800}, {name: '山西', value: 1244},
        {name: '内蒙古', value: 222}, {name: '陕西', value: 47},
        {name: '吉林', value: 0}, {name: '福建', value: 2113},
        {name: '贵州', value: 216}, {name: '广东', value: 0},
        {name: '青海', value: 0}, {name: '西藏', value: 0},
        {name: '四川', value: 4952}, {name: '宁夏', value: 89},
        {name: '海南', value: 0}, {name: '台湾', value: 0},
        {name: '香港', value: 0}, {name: '澳门', value: 0},
        {name: '南海诸岛', value: 0, itemStyle:{normal:{opacity:0,label:{show:false}}} }
    ];
    function yunShiXunMapChar(mapDate){
        var optionMap = {
            backgroundColor: '#FFFFFF',
            title: {
                text: '云视讯数据分布',
                left: '10px',
                textStyle: {
                    color: '#333',
                    fontStyle: 'normal',
                    fontWeight: 'normal',
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'item',
                formatter:function(params){
                    var htmlStr = '<div>'+ params.name +'<br/>'+'总量：'+ params.value +'<br/>';   //获取横坐标的值
                    return htmlStr;
                }
            },
            //左侧小导航图标
            visualMap: {
                show: false,
                // x: 'left',
                // y: 'top',
                splitList: [
                    {start: 15000, end: 25000},
                    {start: 5000, end: 15000},
                    {start: 1000, end: 5000},
                    {start: 300, end: 1000},
                    {start: 1, end: 300},
                ],
                // min: 0,
                // max: 1000,
                // left: '20px',
                // top: 'bottom',
                // text: ['高','低'],           // 文本，默认为数值文本
                // calculable: true

            },
            //配置属性
            series: [{
                name: '总量',
                type: 'map',
                mapType: 'china',
                showLegendSymbol: false,   // 隐藏指示点
                roam: false,
                zoom: 1.1,
                label: {
                    position: 'left',
                    normal: {
                        show: true, //省份名称
                        textStyle: {
                            fontSize: 10
                        },
                        formatter:function (num) {
                            if(num.value>0){
                                return num.name;
                            }else {
                                return '';
                            }
                        }
                    },
                    emphasis: {
                        show: false
                    }
                },
                data: mapDate  //数据
            }]
        };
        var charMap = echarts.init(document.getElementById('yunShiXunChina'), 'vintage');
        charMap.on('click', function(params){
            let index=null
            yunShiXunProvince.forEach((name,i)=>{
                if(name==params.name){
                    index=i
                }
            });
            if(index!=null){
                console.log(index);
                var barMax=setMaxData(yunShiXunOrderData[index]);
                var lineMax=setMaxData(yunShiXunMemberData[index]);
                console.log(barMax);
                console.log(lineMax);
                yunShiXunBarAndLineChar('yunShiXunBarAndLine', [params.name], [yunShiXunOrderData[index]], [yunShiXunMemberData[index]], 0,barMax, 0,lineMax );
            }else{
                yunShiXunBarAndLineChar('yunShiXunBarAndLine', [params.name], [], [], 0, 100, 0, 100);
            }
        });
        charMap.setOption(optionMap);
    }
    var yunShiXunProvince = ['河南','四川','福建','甘肃','江苏','山西','山东','陕西','内蒙古','河北','贵州','宁夏','北京','新疆'];
    var yunShiXunOrderData=[255,84,35,17,16,14,8,5,4,3,2,1,1,1];
    var yunShiXunMemberData=[15885,4868,2078,1783,763,1230,914,42,218,498,214,88,0,81];

    console.log(yunShiXunProvince.length);
    console.log(yunShiXunOrderData.length);
    console.log(yunShiXunMemberData.length);
    console.log("-------------");
    function yunShiXunBarAndLineChar(charId, province, dataBar, dataLine, barMin, barMax, lineMin, lineMax) {
        var optionBarAndLine = {
            backgroundColor: '#FFFFFF',
            color: ['#3398DB', '#f77003'],
            title: {
                text: '云视讯数据统计',
                left: '10px',
                textStyle: {
                    color: '#333',
                    fontStyle: 'normal',
                    fontWeight: 'normal',
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'axis',
                // axisPointer: {
                // 	type: 'cross',
                // 	crossStyle: {
                // 		color: '#999'
                // 	}
                // }
            },
            toolbox: {
                feature: {
                    dataView: {show: false, readOnly: false},
                    magicType: {show: false, type: ['line', 'bar']},
                    restore: {show: false},
                    saveAsImage: {show: false}
                }
            },
            grid: {
                left: '4%',
                right: '4%',
                top: '5%',
                bottom: '21%',
            },
            legend: {
                data: ['订购数', '成员数'],
                right: '20px',
                top: '0%',
            },
            dataZoom: [
                {
                    show: true,
                    realtime: true,
                    start: 0,
                    end: 40,
                    // maxSpan: 20,
                    zoomLock: true,  //  只能平移不能缩放
                    textStyle: {
                        lineHeight: 20,
                        fontSize: 12
                    },
                    bottom: '0',
                }, {
                    type: 'inside',
                    zoomOnMouseWheel: false,
                    moveOnMouseMove: false,
                    realtime: true,
                    start: 0,
                    end: 20,

                }
            ],
            xAxis: [
                {
                    type: 'category',
                    data: province,
                    axisLabel: {
                        show: true,
                        interval: 0,
                        rotate: 0,
                        textStyle: {
                            color: '#333'
                        }
                    },
                    axisPointer: {
                        type: 'none'
                    },
                    axisTick: {
                        show: false
                    }

                }
            ],
            yAxis: [
                {
                    show: false,
                    type: 'value',
                    name: '订购数',
                    min: barMin,
                    max: barMax,
                    interval: 50,
                    axisLabel: {
                        formatter: '{value} 个',
                        show: false
                    },
                    axisTick: {
                        show: false
                    },
                },
                {
                    show: false,
                    type: 'value',
                    name: '成员数',
                    min: lineMin,
                    max: lineMax,
                    interval: 5,
                    axisLabel: {
                        formatter: '{value} 个',
                        show: false
                    },
                    axisTick: {
                        show: false
                    },
                }
            ],

            series: [
                {

                    name: '订购数',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                position: 'top',
                                textStyle: {
                                    color: '#3398DB'
                                }
                            }
                        },
                    },
                    barWidth: '30px',
                    data: dataBar
                },
                {
                    name: '成员数',
                    type: 'line',
                    yAxisIndex: 1,
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                position: 'top',
                                textStyle: {
                                    color: '#f77003'
                                }
                            }
                        },
                    },
                    data: dataLine
                }
            ]
        };
        var barAndLineChart = echarts.init(document.getElementById(charId));
        barAndLineChart.setOption(optionBarAndLine);
    }

    yunShiXunInit();
    function yunShiXunInit(){
        yunShiXunBarAndLineChar('yunShiXunBarAndLine', yunShiXunProvince, yunShiXunOrderData, yunShiXunMemberData, 0, 300, 0, 30000);
        yunShiXunMapChar(yunShiXunMapData);
    }
    $("#yunShiXunReset").on('click',function () {
        yunShiXunInit();
    });

    // ====================================================================================================================================

    var caiLingMapData = [
        {name: '北京', value: 230}, {name: '天津', value: 0},
        {name: '上海', value: 1}, {name: '重庆', value: 1},
        {name: '河北', value: 187}, {name: '河南', value: 0},
        {name: '云南', value: 0}, {name: '辽宁', value: 408},
        {name: '黑龙江', value: 21}, {name: '湖南', value: 379},
        {name: '安徽', value: 2984}, {name: '山东', value: 14031},
        {name: '新疆', value: 0}, {name: '江苏', value: 8240},
        {name: '浙江', value: 29536}, {name: '江西', value: 26045},
        {name: '湖北', value: 0}, {name: '广西', value: 38},
        {name: '甘肃', value: 19006}, {name: '山西', value: 0},
        {name: '内蒙古', value: 506}, {name: '陕西', value: 0},
        {name: '吉林', value: 0}, {name: '福建', value: 3733},
        {name: '贵州', value: 67680}, {name: '广东', value: 14511},
        {name: '青海', value: 0}, {name: '西藏', value: 0},
        {name: '四川', value: 6394}, {name: '宁夏', value: 0},
        {name: '海南', value: 0}, {name: '台湾', value: 0},
        {name: '香港', value: 0}, {name: '澳门', value: 0},
        {name: '南海诸岛', value: 0, itemStyle:{normal:{opacity:0,label:{show:false}}} }
    ];
    function caiLingMapChar(mapDate){
        var optionMap = {
            backgroundColor: '#FFFFFF',
            title: {
                text: '视频彩铃数据分布',
                left: '10px',
                textStyle: {
                    color: '#333',
                    fontStyle: 'normal',
                    fontWeight: 'normal',
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'item',
                formatter:function(params){
                     var htmlStr = '<div>'+ params.name +'<br/>'+'总量：'+ params.value +'<br/>';   //获取横坐标的值
                    return htmlStr;
                }
            },
            //左侧小导航图标
            visualMap: {
                show: false,
                // x: 'left',
                // y: 'top',
                splitList: [
                    {start: 40000, end: 75000},
                    {start: 2000, end: 40000},
                    {start: 5000, end: 2000},
                    {start: 300, end: 5000},
                    {start: 1, end: 300},
                ],
                // min: 0,
                // max: 1000,
                // left: '20px',
                // top: 'bottom',
                // text: ['高','低'],           // 文本，默认为数值文本
                // calculable: true

            },
            //配置属性
            series: [{
                name: '总量',
                type: 'map',
                mapType: 'china',
                showLegendSymbol: false,   // 隐藏指示点
                roam: false,
                zoom: 1.1,
                label: {
                    position: 'left',
                    normal: {
                        show: true, //省份名称
                        textStyle: {
                            fontSize: 10
                        },
                        formatter:function (num) {
                            if(num.value>0){
                                return num.name;
                            }else {
                                return '';
                            }
                        }
                    },
                    emphasis: {
                        show: false
                    }
                },
                data: mapDate  //数据
            }]
        };
        var charMap = echarts.init(document.getElementById('caiLingChina'), 'vintage');
        charMap.on('click', function(params){
            let index=null
            caiLingProvince.forEach((name,i)=>{
                if(name==params.name){
                    index=i
                }
            });
            if(index!=null){
                var barMax=setMaxData(caiLingOrderData[index]);
                var lineMax=setMaxData(caiLingMemberData[index]);
                console.log(barMax);
                console.log(lineMax);
                caiLingBarAndLineChar('caiLingBarAndLine', [params.name], [caiLingOrderData[index]], [caiLingMemberData[index]], 0,barMax, 0,lineMax );
            }else{
                caiLingBarAndLineChar('caiLingBarAndLine', [params.name], [], [], 0, 100, 0, 100);
            }
        });
        charMap.setOption(optionMap);
    }

    var caiLingProvince = ['甘肃','山东','江苏','四川','贵州','安徽','浙江','广东','福建',
        '内蒙古','河北','广西','江西','黑龙江','湖南','重庆','北京','上海','辽宁' ];


    var caiLingOrderData=[266,116,36,32,28,20,19,17,10,6,5,4,4,2,1,1,1,1,1];
    var caiLingMemberData=[18740,13915,8204,6362,67652,2964,29517,14494,3723,500,182,34,26041,19,378,0,229,0,407];

    console.log(caiLingProvince.length);
    console.log(caiLingOrderData.length);
    console.log(caiLingMemberData.length);
    console.log("-------------");
    function caiLingBarAndLineChar(charId, province, dataBar, dataLine, barMin, barMax, lineMin, lineMax) {
        var optionBarAndLine02 = {
            backgroundColor: '#FFFFFF',
            color: ['#3398DB', '#f77003'],
            title: {
                text: '视频彩铃数据统计',
                left: '10px',
                textStyle: {
                    color: '#333',
                    fontStyle: 'normal',
                    fontWeight: 'normal',
                    fontSize: 14
                }
            },
            tooltip: {
                trigger: 'axis',
                // axisPointer: {
                // 	type: 'cross',
                // 	crossStyle: {
                // 		color: '#999'
                // 	}
                // }
            },
            toolbox: {
                feature: {
                    dataView: {show: false, readOnly: false},
                    magicType: {show: false, type: ['line', 'bar']},
                    restore: {show: false},
                    saveAsImage: {show: false}
                }
            },
            grid: {
                left: '4%',
                right: '4%',
                top: '5%',
                bottom: '21%',
            },
            legend: {
                data: ['订购数', '成员数'],
                right: '20px',
                top: '0%',
            },
            dataZoom: [
                {
                    show: true,
                    realtime: true,
                    start: 0,
                    end: 40,
                    // maxSpan: 20,
                    zoomLock: true,  //  只能平移不能缩放
                    textStyle: {
                        lineHeight: 20,
                        fontSize: 12
                    },
                    bottom: '0',
                }, {
                    type: 'inside',
                    zoomOnMouseWheel: false,
                    moveOnMouseMove: false,
                    realtime: true,
                    start: 0,
                    end: 20,

                }
            ],
            xAxis: [
                {
                    type: 'category',
                    data: province,
                    axisLabel: {
                        show: true,
                        interval: 0,
                        rotate: 0,
                        textStyle: {
                            color: '#333'
                        }
                    },
                    axisPointer: {
                        type: 'none'
                    },
                    axisTick: {
                        show: false
                    }

                }
            ],
            yAxis: [
                {
                    show: false,
                    type: 'value',
                    name: '订购数',
                    min: barMin,
                    max: barMax,
                    interval: 50,
                    axisLabel: {
                        formatter: '{value} 个',
                        show: false
                    },
                    axisTick: {
                        show: false
                    },
                },
                {
                    show: false,
                    type: 'value',
                    name: '成员数',
                    min: lineMin,
                    max: lineMax,
                    interval: 5,
                    axisLabel: {
                        formatter: '{value} 个',
                        show: false
                    },
                    axisTick: {
                        show: false
                    },
                }
            ],

            series: [
                {

                    name: '订购数',
                    type: 'bar',
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                position: 'top',
                                textStyle: {
                                    color: '#3398DB'
                                }
                            }
                        },
                    },
                     barWidth: '30px',
                    data: dataBar
                },
                {
                    name: '成员数',
                    type: 'line',
                    yAxisIndex: 1,
                    itemStyle: {
                        normal: {
                            label: {
                                show: true,
                                position: 'top',
                                textStyle: {
                                    color: '#f77003'
                                }
                            }
                        },
                    },
                    data: dataLine
                }
            ]
        };
        var barAndLineChart = echarts.init(document.getElementById(charId));
        barAndLineChart.setOption(optionBarAndLine02);
    }

    caiLingInit();
    function caiLingInit(){
        caiLingBarAndLineChar('caiLingBarAndLine', caiLingProvince, caiLingOrderData, caiLingMemberData, 0, 300, 0, 80000);
        caiLingMapChar(caiLingMapData);
    }
    $("#caiLingReset").on('click',function () {
        caiLingInit();
    });

    // ====================================================================================================================================
    // 返回头部
    $('.scroll-top').click(function(){$('html,body').animate({scrollTop: '0px'}, 800);});
    // 返回底部
    $('.scroll-bottom').on('click',function(){
        $('html,body').animate({scrollTop:$('.bottom-text').offset().top}, 900);
    });
   function setMaxData(data){
       console.log(data);
       var flag=0;
       if(data<=3){
           flag=5;
       } else if(data<=5){
           flag=8;
       } else  if(data<=10){
           flag=12;
       } else if(data<=20){
           flag=30;
       } else  if(data<=30){
           flag=50;
       } else if(data<=50){
            flag=100;
       } else if(data<=100){
            flag=150;
       }else if(data<=300){
           flag=500;
       }else if(data<=500){
            flag=700;
        }else if(data<=1000){
            flag=1500;
        }else if(data<=1500){
            flag=1800;
        }else if(data<=2000){
            flag=2500;
        }else if(data<=5000){
           flag=6000;
       }else if(data<=7000){
           flag=9000;
       } else if(data<=10000){
           flag=12000;
       }else if(data<=12000){
           flag=15000;
       }else if(data<=15000){
           flag=18000;
       }else if(data<=18000){
           flag=22000;
       }else if(data<=22000){
           flag=26000;
       }else if(data<=25000){
            flag=30000;
        }else if(data<=30000){
            flag=35000;
        }else if(data<=35000){
            flag=40000;
        }else if(data<=40000){
           flag=45000;
       }else if(data<=45000){
           flag=50000;
       }else if(data<=50000){
           flag=60000;
       }else if(data<=60000){
           flag=70000;
       }else if(data<=70000){
           flag=85000;
       }else if(data<=80000){
           flag=95000;
       }else if(data<=90000){
           flag=120000;
       }
         return  flag;
    }

   // 滚动到指定位置
   // $('.scroll_a').click(function(){$('html,body').animate({scrollTop:$('.a').offset().top}, 800);});
</script>


<script>
    (function (doc, win) {
        var docEl = doc.documentElement,
            resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
            recalc = function () {
                var clientWidth = docEl.clientWidth;
                if (!clientWidth) return;
                docEl.style.fontSize = 10 * (clientWidth / 320) + 'px';
            };

        if (!doc.addEventListener) return;
        win.addEventListener(resizeEvt, recalc, false);
        doc.addEventListener('DOMContentLoaded', recalc, false);
        recalc();
    })(document, window);
</script>
<script>
    var optionBar = {
        color: ['#3398DB'],
        tooltip: {
            trigger: 'axis',
            axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                axisTick: {
                    alignWithLabel: true
                }
            }
        ],
        yAxis: [
            {
                type: 'value'
            }
        ],
        series: [
            {
                name: '直接访问',
                type: 'bar',
                barWidth: '60%',
                data: [10, 52, 200, 334, 390, 330, 220]
            }
        ]
    };
    var barChart = echarts.init(document.getElementById('bar'));
    barChart.setOption(optionBar);
</script>

</html>
